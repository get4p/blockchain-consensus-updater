// Optimize contract upgrade process
// Fix overflow bug in token calculation
